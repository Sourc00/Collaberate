{% extends "base.html" %}

{% block title %}Courses - Collaberate{% endblock %}

{% block content %}
<h1>Available Courses</h1>

<div class="course-filters">
    <form method="GET" action="{{ url_for('courses') }}">
        <input type="text" name="search" placeholder="Search courses" value="{{ search }}">
        
        <select name="category">
            <option value="">All Categories</option>
            {% for category in categories %}
                <option value="{{ category }}" {% if category == selected_category %}selected{% endif %}>{{ category }}</option>
            {% endfor %}
        </select>
        
        <button type="submit">Search</button>
    </form>
</div>

<div class="course-grid">
    {% for course in courses %}
        <div class="course-card {% if course.ai_powered %}ai-powered{% endif %}">
            <h3>{{ course.title }}</h3>
            {% if course.ai_powered %}
                <span class="ai-badge">AI-Powered</span>
            {% endif %}
            <p>{{ course.description[:100] }}{% if course.description|length > 100 %}...{% endif %}</p>
            <p>Instructor: {{ course.instructor }}</p>
            <p>Duration: {{ course.duration }} hours</p>
            <p>Category: {{ course.category }}</p>
            <a href="{{ url_for('course_details', course_id=course.id) }}" class="btn">View Course</a>
        </div>
    {% else %}
        <p>No courses found.</p>
    {% endfor %}
</div>

{% endblock %}

{% block styles %}
<style>
    .ai-powered {
        border: 2px solid #4CAF50;
    }
    .ai-badge {
        background-color: #4CAF50;
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.8em;
    }
</style>
{% endblock %}

{% block scripts %}
<script>
    // Add JavaScript for instant search functionality if needed
    document.getElementById('course-search').addEventListener('input', function() {
        // Implement client-side filtering logic here if desired
    });
</script>
{% endblock %}